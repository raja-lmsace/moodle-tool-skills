define("tool_skills/modskills",["jquery","core/modal_factory","core/str","core_form/modalform"],(function($,ModalFactory,Str,ModalForm){const SELECTORS={table:"#tool_mod_skills_list",editskill:'[data-target="toolskill-edit"]',skillsRow:"#tool_mod_skills_list .skill-actions a.action-edit"};class ToolSkillsCourses{constructor(skillID,courseID,modID){this.SELECTORS=SELECTORS,this.skillCourseID="",this.skillID=skillID,this.courseID=courseID,this.modID=modID,this.SELECTORS.root='#tool_mod_skills_list [data-skillid="'+this.skillID+'"]',this.addActionListiners()}getRoot(){return document.querySelector(this.SELECTORS.root)}showContentForm(){const modalForm=new ModalForm({formClass:"tool_skills\\form\\course_mod_form",args:{courseid:this.courseID,skill:this.skillID,modid:this.modID},modalConfig:{title:Str.get_string("moduleskills","tool_skills")}});modalForm.show(),modalForm.addEventListener(modalForm.events.FORM_SUBMITTED,(function(){window.location.reload()}))}addActionListiners(){var self=this;this.getRoot().addEventListener("click",(function(e){e.target.closest(SELECTORS.editskill)&&(e.preventDefault(),self.showContentForm())}))}static createInstances(courseID){let skills=document.querySelectorAll(SELECTORS.skillsRow);const skillsList=[];var skill;null!==skills&&skills.forEach((skl=>{var skillID=skl.dataset.skillid;skillID in skillsList?skill=skillsList[skillID]:(skill=new ToolSkillsCourses(skillID,courseID),skillsList[skillID]=skill)}))}static refresh(blockID){var block="#inst"+blockID;0==$(block).find("select:eq(1)").length&&$(block).find(".filter-form").append('<select style="display:none;"><option>1</option></select>'),$(block).find(".filter-form").find("select").trigger("change")}}return{init:function(courseID){ToolSkillsCourses.createInstances(courseID)}}}));

//# sourceMappingURL=modskills.min.js.map